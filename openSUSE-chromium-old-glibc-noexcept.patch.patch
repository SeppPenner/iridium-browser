From d1c99612e589673b63e964ed801bb25d898661c7 Mon Sep 17 00:00:00 2001
From: Jan Engelhardt <jengelh@inai.de>
Date: Mon, 24 Feb 2020 16:22:53 +0100
Subject: [PATCH 05/62] openSUSE chromium-old-glibc-noexcept.patch

---
 chrome/common/media_router/media_sink.cc                  | 4 ++--
 components/history/core/browser/history_types.cc          | 4 ++--
 components/history/core/browser/history_types.h           | 4 ++--
 components/history/core/browser/url_row.cc                | 2 +-
 components/omnibox/browser/suggestion_answer.cc           | 2 +-
 components/policy/core/common/policy_map.cc               | 2 +-
 components/search_provider_logos/logo_common.cc           | 6 +++---
 components/signin/public/identity_manager/account_info.cc | 4 ++--
 google_apis/gaia/core_account_id.cc                       | 2 +-
 google_apis/gaia/core_account_id.h                        | 2 +-
 gpu/config/gpu_info.cc                                    | 2 +-
 11 files changed, 17 insertions(+), 17 deletions(-)

diff --git a/chrome/common/media_router/media_sink.cc b/chrome/common/media_router/media_sink.cc
index 36f2183d35554..dc1fdbe79cdd8 100644
--- a/chrome/common/media_router/media_sink.cc
+++ b/chrome/common/media_router/media_sink.cc
@@ -19,12 +19,12 @@ MediaSink::MediaSink(const MediaSink::Id& sink_id,
       provider_id_(provider_id) {}
 
 MediaSink::MediaSink(const MediaSink& other) = default;
-MediaSink::MediaSink(MediaSink&& other) noexcept = default;
+MediaSink::MediaSink(MediaSink&& other) = default;
 MediaSink::MediaSink() = default;
 MediaSink::~MediaSink() = default;
 
 MediaSink& MediaSink::operator=(const MediaSink& other) = default;
-MediaSink& MediaSink::operator=(MediaSink&& other) noexcept = default;
+MediaSink& MediaSink::operator=(MediaSink&& other) = default;
 
 bool MediaSink::IsMaybeCloudSink() const {
   switch (icon_type_) {
diff --git a/components/history/core/browser/history_types.cc b/components/history/core/browser/history_types.cc
index 7915c4ba7dda2..e92b3d02b42c8 100644
--- a/components/history/core/browser/history_types.cc
+++ b/components/history/core/browser/history_types.cc
@@ -42,7 +42,7 @@ QueryResults::QueryResults(QueryResults&& other) noexcept {
   Swap(&other);
 }
 
-QueryResults& QueryResults::operator=(QueryResults&& other) noexcept {
+QueryResults& QueryResults::operator=(QueryResults&& other) {
   Swap(&other);
   return *this;
 }
@@ -186,7 +186,7 @@ QueryURLResult::QueryURLResult(QueryURLResult&&) noexcept = default;
 
 QueryURLResult& QueryURLResult::operator=(const QueryURLResult&) = default;
 
-QueryURLResult& QueryURLResult::operator=(QueryURLResult&&) noexcept = default;
+QueryURLResult& QueryURLResult::operator=(QueryURLResult&&) = default;
 
 // MostVisitedURL --------------------------------------------------------------
 
diff --git a/components/history/core/browser/history_types.h b/components/history/core/browser/history_types.h
index 88dfac3a6a1d4..1481e7522b4ff 100644
--- a/components/history/core/browser/history_types.h
+++ b/components/history/core/browser/history_types.h
@@ -141,7 +141,7 @@ class QueryResults {
   ~QueryResults();
 
   QueryResults(QueryResults&& other) noexcept;
-  QueryResults& operator=(QueryResults&& other) noexcept;
+  QueryResults& operator=(QueryResults&& other);
 
   void set_reached_beginning(bool reached) { reached_beginning_ = reached; }
   bool reached_beginning() { return reached_beginning_; }
@@ -276,7 +276,7 @@ struct QueryURLResult {
   QueryURLResult(const QueryURLResult&);
   QueryURLResult(QueryURLResult&&) noexcept;
   QueryURLResult& operator=(const QueryURLResult&);
-  QueryURLResult& operator=(QueryURLResult&&) noexcept;
+  QueryURLResult& operator=(QueryURLResult&&);
   ~QueryURLResult();
 
   // Indicates whether the call to HistoryBackend::QueryURL was successfull
diff --git a/components/history/core/browser/url_row.cc b/components/history/core/browser/url_row.cc
index aec0101078388..44c22fd1ee8af 100644
--- a/components/history/core/browser/url_row.cc
+++ b/components/history/core/browser/url_row.cc
@@ -26,7 +26,7 @@ URLRow::~URLRow() {
 }
 
 URLRow& URLRow::operator=(const URLRow& other) = default;
-URLRow& URLRow::operator=(URLRow&& other) noexcept = default;
+URLRow& URLRow::operator=(URLRow&& other) = default;
 
 void URLRow::Swap(URLRow* other) {
   std::swap(id_, other->id_);
diff --git a/components/omnibox/browser/suggestion_answer.cc b/components/omnibox/browser/suggestion_answer.cc
index 7192e42e9fa82..6776fcf7662be 100644
--- a/components/omnibox/browser/suggestion_answer.cc
+++ b/components/omnibox/browser/suggestion_answer.cc
@@ -60,7 +60,7 @@ SuggestionAnswer::TextField::TextField(TextField&&) noexcept = default;
 SuggestionAnswer::TextField& SuggestionAnswer::TextField::operator=(
     const TextField&) = default;
 SuggestionAnswer::TextField& SuggestionAnswer::TextField::operator=(
-    TextField&&) noexcept = default;
+    TextField&&) = default;
 
 // static
 bool SuggestionAnswer::TextField::ParseTextField(const base::Value& field_json,
diff --git a/components/policy/core/common/policy_map.cc b/components/policy/core/common/policy_map.cc
index f6f10ac8bee64..a7d4db4fd7011 100644
--- a/components/policy/core/common/policy_map.cc
+++ b/components/policy/core/common/policy_map.cc
@@ -52,7 +52,7 @@ PolicyMap::Entry::Entry(
 PolicyMap::Entry::~Entry() = default;
 
 PolicyMap::Entry::Entry(Entry&&) noexcept = default;
-PolicyMap::Entry& PolicyMap::Entry::operator=(Entry&&) noexcept = default;
+PolicyMap::Entry& PolicyMap::Entry::operator=(Entry&&) = default;
 
 PolicyMap::Entry PolicyMap::Entry::DeepCopy() const {
   Entry copy(level, scope, source, value ? value->CreateDeepCopy() : nullptr,
diff --git a/components/search_provider_logos/logo_common.cc b/components/search_provider_logos/logo_common.cc
index 05aae77a8a8d1..6af0072978d24 100644
--- a/components/search_provider_logos/logo_common.cc
+++ b/components/search_provider_logos/logo_common.cc
@@ -14,14 +14,14 @@ LogoMetadata::LogoMetadata() = default;
 LogoMetadata::LogoMetadata(const LogoMetadata&) = default;
 LogoMetadata::LogoMetadata(LogoMetadata&&) noexcept = default;
 LogoMetadata& LogoMetadata::operator=(const LogoMetadata&) = default;
-LogoMetadata& LogoMetadata::operator=(LogoMetadata&&) noexcept = default;
+LogoMetadata& LogoMetadata::operator=(LogoMetadata&&) = default;
 LogoMetadata::~LogoMetadata() = default;
 
 EncodedLogo::EncodedLogo() = default;
 EncodedLogo::EncodedLogo(const EncodedLogo&) = default;
 EncodedLogo::EncodedLogo(EncodedLogo&&) noexcept = default;
 EncodedLogo& EncodedLogo::operator=(const EncodedLogo&) = default;
-EncodedLogo& EncodedLogo::operator=(EncodedLogo&&) noexcept = default;
+EncodedLogo& EncodedLogo::operator=(EncodedLogo&&) = default;
 EncodedLogo::~EncodedLogo() = default;
 
 Logo::Logo() = default;
@@ -29,7 +29,7 @@ Logo::~Logo() = default;
 
 LogoCallbacks::LogoCallbacks() = default;
 LogoCallbacks::LogoCallbacks(LogoCallbacks&&) noexcept = default;
-LogoCallbacks& LogoCallbacks::operator=(LogoCallbacks&&) noexcept = default;
+LogoCallbacks& LogoCallbacks::operator=(LogoCallbacks&&) = default;
 LogoCallbacks::~LogoCallbacks() = default;
 
 }  // namespace search_provider_logos
diff --git a/components/signin/public/identity_manager/account_info.cc b/components/signin/public/identity_manager/account_info.cc
index 17c2856cf73bc..38a775164cef9 100644
--- a/components/signin/public/identity_manager/account_info.cc
+++ b/components/signin/public/identity_manager/account_info.cc
@@ -58,7 +58,7 @@ CoreAccountInfo::CoreAccountInfo(CoreAccountInfo&& other) noexcept = default;
 CoreAccountInfo& CoreAccountInfo::operator=(const CoreAccountInfo& other) =
     default;
 
-CoreAccountInfo& CoreAccountInfo::operator=(CoreAccountInfo&& other) noexcept =
+CoreAccountInfo& CoreAccountInfo::operator=(CoreAccountInfo&& other) =
     default;
 
 bool CoreAccountInfo::IsEmpty() const {
@@ -75,7 +75,7 @@ AccountInfo::AccountInfo(AccountInfo&& other) noexcept = default;
 
 AccountInfo& AccountInfo::operator=(const AccountInfo& other) = default;
 
-AccountInfo& AccountInfo::operator=(AccountInfo&& other) noexcept = default;
+AccountInfo& AccountInfo::operator=(AccountInfo&& other) = default;
 
 bool AccountInfo::IsEmpty() const {
   return CoreAccountInfo::IsEmpty() && hosted_domain.empty() &&
diff --git a/google_apis/gaia/core_account_id.cc b/google_apis/gaia/core_account_id.cc
index deb367f7743d6..f1b57f31a3e03 100644
--- a/google_apis/gaia/core_account_id.cc
+++ b/google_apis/gaia/core_account_id.cc
@@ -24,7 +24,7 @@ CoreAccountId::~CoreAccountId() = default;
 
 CoreAccountId& CoreAccountId::operator=(const CoreAccountId&) = default;
 
-CoreAccountId& CoreAccountId::operator=(CoreAccountId&&) noexcept = default;
+CoreAccountId& CoreAccountId::operator=(CoreAccountId&&) = default;
 
 // static
 CoreAccountId CoreAccountId::FromGaiaId(const std::string& gaia_id) {
diff --git a/google_apis/gaia/core_account_id.h b/google_apis/gaia/core_account_id.h
index 4b4f9503b4218..03f43144cb48a 100644
--- a/google_apis/gaia/core_account_id.h
+++ b/google_apis/gaia/core_account_id.h
@@ -30,7 +30,7 @@ struct CoreAccountId {
   ~CoreAccountId();
 
   CoreAccountId& operator=(const CoreAccountId&);
-  CoreAccountId& operator=(CoreAccountId&&) noexcept;
+  CoreAccountId& operator=(CoreAccountId&&);
 
   // Checks if the account is valid or not.
   bool empty() const;
diff --git a/gpu/config/gpu_info.cc b/gpu/config/gpu_info.cc
index da699bb06321d..31bc00655735b 100644
--- a/gpu/config/gpu_info.cc
+++ b/gpu/config/gpu_info.cc
@@ -173,7 +173,7 @@ GPUInfo::GPUDevice& GPUInfo::GPUDevice::operator=(
     const GPUInfo::GPUDevice& other) = default;
 
 GPUInfo::GPUDevice& GPUInfo::GPUDevice::operator=(
-    GPUInfo::GPUDevice&& other) noexcept = default;
+    GPUInfo::GPUDevice&& other) = default;
 
 GPUInfo::GPUInfo()
     : optimus(false),
-- 
2.25.1

