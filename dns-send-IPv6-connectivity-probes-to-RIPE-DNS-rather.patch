From b32e475d4e2fa95d1d69e7d09658fe4ecdd58eb1 Mon Sep 17 00:00:00 2001
From: Jan Engelhardt <jengelh@inai.de>
Date: Mon, 15 Sep 2014 10:58:42 +0200
Subject: [PATCH 34/76] dns: send IPv6 connectivity probes to RIPE DNS rather
 than Google

Short of disabling the code (we may do that in a subsequent patch
anyway), avoid sending to Google.
---
 net/dns/host_resolver_manager.cc | 6 +++---
 1 file changed, 3 insertions(+), 3 deletions(-)

diff --git net/dns/host_resolver_manager.cc net/dns/host_resolver_manager.cc
index 82347fd6bf8a5..e6d3d2eabd996 100644
--- net/dns/host_resolver_manager.cc
+++ net/dns/host_resolver_manager.cc
@@ -131,10 +131,10 @@ const unsigned kMinimumTTLSeconds = kCacheEntryTTLSeconds;
 // cached.
 const int kIPv6ProbePeriodMs = 1000;
 
-// Google DNS address used for IPv6 probes.
-const uint8_t kIPv6ProbeAddress[] = {0x20, 0x01, 0x48, 0x60, 0x48, 0x60,
+// RIPE NCC k.root-servers.net. 2001:7fd::1 (anycasted)
+const uint8_t kIPv6ProbeAddress[] = {0x20, 0x01, 0x07, 0xfd, 0x00, 0x00,
                                      0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
-                                     0x00, 0x00, 0x88, 0x88};
+                                     0x00, 0x00, 0x00, 0x01};
 
 enum DnsResolveStatus {
   RESOLVE_STATUS_DNS_SUCCESS = 0,
-- 
2.29.1

