From 5797cd045c85539313e854d67dd09f7e5865521c Mon Sep 17 00:00:00 2001
From: Jan Engelhardt <jengelh@inai.de>
Date: Sun, 6 Sep 2020 20:45:59 +0200
Subject: [PATCH 25/76] SUSE chromium-85-NearbyConnection-abstract.patch

---
 .../browser/nearby_sharing/nearby_connections_manager.h  | 9 ++++++---
 1 file changed, 6 insertions(+), 3 deletions(-)

diff --git chrome/browser/nearby_sharing/nearby_connections_manager.h chrome/browser/nearby_sharing/nearby_connections_manager.h
index d6ac91e86815c..eb1fda7bf6d5f 100644
--- chrome/browser/nearby_sharing/nearby_connections_manager.h
+++ chrome/browser/nearby_sharing/nearby_connections_manager.h
@@ -7,6 +7,7 @@
 
 #include <stdint.h>
 #include <memory>
+#include <string>
 #include <vector>
 
 #include "base/callback.h"
@@ -25,11 +26,13 @@ class NearbyConnectionsManager {
 
   // A callback for handling incoming connections while advertising.
   class IncomingConnectionListener {
+   public:
     virtual ~IncomingConnectionListener() = default;
 
-    virtual void OnIncomingConnection(const std::string& endpoint_id,
-                                      const std::vector<uint8_t>& endpoint_info,
-                                      NearbyConnection connection) = 0;
+    virtual void OnIncomingConnection(
+        const std::string& endpoint_id,
+        const std::vector<uint8_t>& endpoint_info,
+        std::unique_ptr<NearbyConnection> connection) = 0;
   };
 
   // A callback for handling discovered devices while discovering.
-- 
2.29.1

